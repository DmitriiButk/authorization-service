## Authorization Service

### Описание

Этот сервис предназначен для управления пользователями и обеспечения безопасности в распределенных системах. Он
предоставляет REST API для регистрации новых пользователей, аутентификации с помощью JWT токенов и получения информации
о текущем пользователе.

1. ### Регистрация пользователя:

- Создание новой учетной записи пользователя
- Проверка уникальности email
- Хэширование пароля с использованием bcrypt
- Сохранение данных пользователя в PostgreSQL

2. ### Аутентификация:

- Проверка учетных данных пользователя
- Генерация пары токенов (access и refresh)
- Поддержка стандартной OAuth2 авторизации
- Проверка активности учетной записи

3. ### Управление сессиями:

- JWT токены с настраиваемым временем жизни
- Access токены (30 минут по умолчанию)
- Refresh токены (7 дней по умолчанию)
- Проверка валидности токенов

4. ### Получение информации о пользователе:

- Защищенный эндпоинт для получения данных текущего пользователя
- Проверка прав доступа через JWT токены

## Начало работы:

```bash
# Клонирование репозитория
git clone https://github.com/DmitriiButk/authorization-service.git
```

### Создайте файл .env в корне проекта:

```plantext
POSTGRES_USER=your_postgres_name
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_DB=your_db_name

JWT_SECRET_KEY=your_secret_key
JWT_ALGORITHM=HS256

```

**Таблицы создаются автоматически при запуске приложения. Т.к это тестовое приложение, то при запуске приложения таблицы
удаляются и создаются заново.**

## Запуск приложения

```bash
# Запуск с помощью docker-compose
docker-compose up -d --build
```

```bash
# Остановка контейнеров
docker-compose down
```

## Документация API

### После запуска приложения документация доступна по адресу:

Swagger UI: http://localhost:8000/docs

ReDoc: http://localhost:8000/redoc

### API эндпоинты:

1. **POST /api/v1/users/register**: Создание новой учетной записи пользователя.
2. **POST /api/v1/users/login**: Аутентификация пользователя.
3. **GET /api/v1/users/me**: Получение информации о текущем пользователе.

### Технологии

- FastAPI
- PostgreSQL
- SQLAlchemy
- JWT
- Docker
- Docker Compose
- Pydantic
- Passlib
- Uvicorn